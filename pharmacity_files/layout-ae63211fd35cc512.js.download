(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1203],{63976:function(e,t,r){Promise.resolve().then(r.bind(r,2305)),Promise.resolve().then(r.t.bind(r,41423,23)),Promise.resolve().then(r.t.bind(r,96502,23)),Promise.resolve().then(r.t.bind(r,92113,23)),Promise.resolve().then(r.bind(r,19715)),Promise.resolve().then(r.bind(r,70870)),Promise.resolve().then(r.bind(r,76654)),Promise.resolve().then(r.bind(r,18167)),Promise.resolve().then(r.bind(r,32962)),Promise.resolve().then(r.bind(r,34169)),Promise.resolve().then(r.bind(r,82609)),Promise.resolve().then(r.bind(r,7044)),Promise.resolve().then(r.bind(r,41726)),Promise.resolve().then(r.bind(r,66748))},19715:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Auth}});var s=r(13050),n=r(514),a=r(8434),o=r(31522),l=r(79014),i=r(94594),c=r(2576),d=r(26074),u=r(19407),m=r(33599),p=r(70379),h=r(95494);let useCheckUserExists=e=>(0,h.y)("checkUserExists",async(e,t)=>{let{arg:r}=t;return await (0,p.cy)({params:r})},e);var x=r(6271);let f={USER_OFFLINE:"USER_OFFLINE",USER_NOT_EXIST:"USER_NOT_EXIST"};var g=r(10874),v=r(63364),b=r(55340),N=r(24784);let j=i.Ry({phone:i.Z_().max(10,g.X.PHONE_INPUT)}).refine(e=>!!(10!==e.phone.length||e.phone.startsWith("0")),{message:g.X.PHONE_INPUT,path:["phone"]});var components_FormPhoneInput=()=>{let{openOTPDrawerWithType:e}=(0,m.QK)(),{setPhoneNumber:t,setAuthType:r}=(0,m.bt)(),{open:n}=(0,m.cW)(),{open:a}=(0,m.PU)(),i=(0,N.useTranslations)(),p=(0,l.cI)({resolver:(0,o.F)(j),defaultValues:{phone:""}}),{trigger:h,isMutating:g}=useCheckUserExists({onSuccess:t=>{let{responseData:o,success:l}=t||{},{data:c}=o;if(!l){(0,v.Am)({title:i("notify.error.title"),description:t.errorMessage,icon:(0,s.jsx)(b.Z,{size:"sm",className:"text-red-500",name:"NotiFill"})});return}switch(null==c?void 0:c.status){case f.USER_NOT_EXIST:r("registerOTP"),n();break;case f.USER_OFFLINE:r("registerOTP"),e("newUser");break;default:a()}}}),handleSubmit=async e=>{if(g)return;let r=await (0,x.M1)("login");t(e.phone),h({phone:e.phone,recaptcha:r,version:"v3"})};return(0,s.jsxs)(c.l0,{...p,children:[(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsx)("h2",{className:"upper-title",children:"XIN CH\xc0O,"}),(0,s.jsx)("p",{children:"Vui l\xf2ng nhập điện thoại để tiếp tục"})]}),(0,s.jsxs)("form",{onSubmit:p.handleSubmit(handleSubmit),className:"space-y-4",children:[(0,s.jsx)(c.Wi,{control:p.control,name:"phone",render:e=>{let{field:{onChange:t}}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.lX,{children:"Số điện thoại"}),(0,s.jsx)(c.NI,{children:(0,s.jsx)(u.Z,{size:"lg",masks:{format:"#### ### ###",mask:" "},placeholder:"Nhập số điện thoại",onChange:e=>{p.clearErrors(),t(e)},inputMode:"numeric",autoFocus:!0})}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsx)(d.default,{loading:g,disabled:10!==p.watch("phone").length,block:!0,size:"md",type:"submit",children:"Tiếp tục"})]})]})},w=r(43703),y=r.n(w),P=r(50453),O=r(81428),Auth_ConfirmTypeLoginDrawer=()=>{let{isOpen:e,close:t}=(0,m.PU)(),{setAuthType:r}=(0,m.bt)(),{openOTPDrawerWithType:n}=(0,m.QK)(),{open:a}=(0,m.tT)();return(0,s.jsx)(O.Z,{className:"md:left-[50%] md:top-[15%] md:h-[224px] md:max-h-[80%] md:w-full md:max-w-[413px] md:translate-x-[-50%] md:translate-y-0 md:animate-none md:rounded-lg md:pb-6",open:e,onOpenChange:()=>t(),title:"Vui l\xf2ng chọn phương thức",contentProps:{overlayClassName:"md:bg-transparent"},children:(0,s.jsxs)("div",{className:"space-y-4 md:mt-1",children:[(0,s.jsx)(d.default,{size:"md",block:!0,onClick:()=>{t(),n("login"),r("loginOTP")},children:"Gửi m\xe3 x\xe1c thực qua SMS"}),(0,s.jsx)(d.default,{onClick:()=>{t(),a(),r("loginPassword")},size:"md",block:!0,color:"secondary",children:"Nhập mật khẩu"})]})})},C=r(78023),k=r(48205);let useLogin=e=>(0,h.y)("userLogin",async(e,t)=>{let{arg:r}=t;return await (0,p.x4)({params:r})},e);var T=r(58724),S=r(38146);let _=i.Ry({password:i.Z_()});var components_FormPasswordInput=()=>{let{phone:e}=(0,m.bt)(),{close:t}=(0,m.tT)(),{close:r}=(0,m.EJ)(),{openOTPDrawerWithType:n}=(0,m.QK)(),{setAuthType:i}=(0,m.bt)(),{setUserToken:p}=(0,T.L)(),[h,x]=(0,a.useState)(!1),[f,v]=(0,a.useState)(!1),{redirectAfterLogin:N}=(0,C.N)(),{onHandleLoginSuccess:j}=(0,S.J)(),{trigger:w,isMutating:y}=useLogin({onSuccess:e=>{let{responseData:s,success:n}=e||{};if(!n){P.setError("password",{message:g.X.PASSWORD_WRONG});return}let{data:a}=s||{},{access_token:o,refresh_token:l,external_data:i}=a||{};p(o,l,null==i?void 0:i.access_token),t(),r(),j(),N()}}),P=(0,l.cI)({resolver:(0,o.F)(_),defaultValues:{password:""}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(c.l0,{...P,children:[(0,s.jsx)("div",{className:"mb-4",children:(0,s.jsx)("h2",{className:"upper-title",children:"Nhập mật khẩu"})}),(0,s.jsxs)("form",{onSubmit:P.handleSubmit(t=>{y||w({username:e,password:t.password})}),className:"space-y-4 ".concat(h?"md:hidden":""),children:[(0,s.jsx)(c.Wi,{control:P.control,name:"password",render:e=>{let{field:{onChange:t}}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.lX,{children:"Mật khẩu"}),(0,s.jsx)(c.NI,{children:(0,s.jsx)(u.Z,{size:"lg",type:f?"text":"password",placeholder:"Nhập mật khẩu",onChange:t,suffix:(0,s.jsx)(d.default,{onClick:()=>v(!f),shape:"link",className:"px-0",children:(0,s.jsx)(b.Z,{name:f?"EyeOpenOutline":"EyeCloseOutline"})}),ref:e=>{setTimeout(()=>null==e?void 0:e.focus(),10)}})}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsx)("p",{children:(0,s.jsx)(d.default,{shape:"link",size:"sm",className:"h-auto p-0 text-primary-500 hover:text-primary-600",onClick:()=>{x(!0)},children:"Qu\xean mật khẩu?"})}),(0,s.jsx)(d.default,{loading:y,disabled:""===P.getValues().password,block:!0,size:"md",type:"submit",children:"Đăng nhập"})]})]}),h&&(0,s.jsxs)(k.Z,{title:"X\xe1c thực OTP",open:h,onOpenChange:()=>{x(!1)},className:"md:top-[15%] md:max-w-[413px] md:translate-y-0",overlayClassName:"md:bg-transparent",children:[(0,s.jsxs)("div",{className:"mb-8 mt-4 text-center md:text-left",children:[(0,s.jsx)("p",{children:"Pharmacity sẽ gửi cho bạn 1 m\xe3 x\xe1c thực (OTP) qua số điện thoại"}),(0,s.jsx)("p",{className:"text-center text-xl font-semibold",children:e})]}),(0,s.jsxs)("div",{className:"flex space-x-3",children:[(0,s.jsx)(d.default,{onClick:()=>{x(!1)},size:"md",color:"secondary",block:!0,children:"Quay lại"}),(0,s.jsx)(d.default,{onClick:()=>{n("forgotPassword"),i("forgotPasswordOTP"),x(!1)},size:"md",block:!0,children:"Tiếp tục"})]})]})]})},E=r(77430),Auth_PasswordDrawer=()=>{let{isOpen:e,close:t}=(0,m.tT)(),{isDesktop:r}=(0,E.J)(),handleBack=()=>{t()},renderContent=()=>(0,s.jsxs)("div",{className:"md:mx-auto md:bg-white md:pt-10",children:[(0,s.jsx)("div",{className:"absolute left-0 right-0 top-0 mb-2 flex w-full bg-white  px-3  pt-6 md:z-10 md:px-6",children:(0,s.jsx)(d.default,{className:"ml-[-1rem]",shape:"link",onClick:handleBack,children:(0,s.jsx)(b.Z,{name:"BackOutline"})})}),(0,s.jsx)("div",{className:"mb-12 md:mb-0",children:(0,s.jsx)(components_FormPasswordInput,{})})]});return r?e&&(0,s.jsx)("div",{className:"bottom-0 left-0 right-0 top-0 z-10",children:renderContent()}):(0,s.jsx)(O.Z,{placement:"right",className:"h-full overflow-x-hidden rounded-none border-0 md:bg-transparent",hideCloseButton:!0,modal:!0,open:e,children:(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 px-3 pt-28 md:top-28 md:px-6 md:pt-0",children:renderContent()})})},R=r(52208);let I=i.Ry({password:i.Z_().min(6,g.X.PASSWORD_WRONG_FORMAT).max(16,g.X.PASSWORD_WRONG_FORMAT).regex(/[A-Z]/,g.X.PASSWORD_DO_NOT_HAVE_CAPITAL_LETTER),confirmPassword:i.Z_().min(6,g.X.PASSWORD_WRONG_FORMAT)}).refine(e=>e.password===e.confirmPassword,{message:g.X.CONFIRM_PASSWORD_WRONG,path:["confirmPassword"]}).refine(e=>0>e.password.indexOf(" "),{message:g.X.PASSWORD_HAVE_SPACE,path:["password"]});var components_FormCreatePasswordInput=()=>{let e=(0,N.useTranslations)(),{close:t}=(0,m.Z$)(),{close:r}=(0,m.EJ)(),{close:n}=(0,m.tT)(),{close:i}=(0,m.dS)(),[p,h]=(0,a.useState)(!1),[x,f]=(0,a.useState)(!1),{redirectAfterLogin:g}=(0,C.N)(),j=(0,l.cI)({resolver:(0,o.F)(I),defaultValues:{password:"",confirmPassword:""}}),{trigger:w}=(0,R.U)({onSuccess:a=>{let{success:o,errorMessage:l}=a||{};if(!o){(0,v.Am)({title:e("notify.error.title"),description:l,icon:(0,s.jsx)(b.Z,{size:"sm",className:"text-red-500",name:"NotiFill"})});return}t(),r(),n(),i(),g()}});return(0,s.jsxs)(c.l0,{...j,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h2",{className:"upper-title",children:"Tạo mật khẩu mới"}),(0,s.jsx)("p",{children:"Bạn c\xf3 thể tạo mật khẩu mới từ 6 - 16 k\xed tự"})]}),(0,s.jsxs)("form",{onSubmit:j.handleSubmit(e=>{w({password:e.password,re_password:e.confirmPassword})}),className:"space-y-4",children:[(0,s.jsx)(c.Wi,{control:j.control,name:"password",render:e=>{let{field:{onChange:t}}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.lX,{children:"Mật khẩu mới"}),(0,s.jsx)(c.NI,{children:(0,s.jsx)(u.Z,{size:"lg",type:p?"text":"password",placeholder:"Nhập mật khẩu",onChange:t,suffix:(0,s.jsx)(d.default,{onClick:()=>h(!p),shape:"link",className:"px-0",children:(0,s.jsx)(b.Z,{name:p?"EyeOpenOutline":"EyeCloseOutline"})}),autoFocus:!0})}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsx)(c.Wi,{control:j.control,name:"confirmPassword",render:e=>{let{field:{onChange:t}}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.lX,{children:"Nhập lại mật khẩu"}),(0,s.jsx)(c.NI,{children:(0,s.jsx)(u.Z,{size:"lg",type:x?"text":"password",placeholder:"Nhập mật khẩu",onChange:t,suffix:(0,s.jsx)(d.default,{onClick:()=>f(!x),shape:"link",className:"px-0",children:(0,s.jsx)(b.Z,{name:x?"EyeOpenOutline":"EyeCloseOutline"})})})}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsx)(d.default,{disabled:""===j.getValues().password||""===j.getValues().confirmPassword,block:!0,size:"md",type:"submit",children:"Ho\xe0n th\xe0nh"})]})]})},Auth_CreatePasswordDrawer=()=>{let{isDesktop:e}=(0,E.J)(),{isOpen:t,close:r}=(0,m.Z$)(),{close:n}=(0,m.EJ)(),{close:a}=(0,m.dS)(),{otpFor:o}=(0,m.QK)(),{redirectAfterLogin:l}=(0,C.N)(),handleBack=()=>{r()},handleSkipCreatePassword=()=>{r(),n(),a(),l()},renderContent=()=>(0,s.jsxs)("div",{className:"md:mx-auto md:bg-white md:pt-10",children:[(0,s.jsxs)("div",{className:"absolute left-0 right-0 top-0 mb-2 flex w-full bg-white  px-3  pt-6 md:z-10 md:px-6",children:[(0,s.jsx)("div",{className:"w-full",children:"newUser"!==o&&(0,s.jsx)(d.default,{className:"ml-[-1rem]",shape:"link",onClick:handleBack,children:(0,s.jsx)(b.Z,{name:"BackOutline"})})}),"newUser"===o&&(0,s.jsx)(d.default,{className:"w-[80px] px-0 text-right font-semibold text-primary-500",shape:"link",onClick:handleSkipCreatePassword,children:"Bỏ qua"})]}),(0,s.jsx)("div",{className:"mb-12 md:mb-0",children:(0,s.jsx)(components_FormCreatePasswordInput,{})})]});return e?t&&(0,s.jsx)("div",{className:"bottom-0 left-0 right-0 top-0 z-10",children:renderContent()}):(0,s.jsx)(O.Z,{placement:"right",className:"h-full overflow-x-hidden rounded-none border-0 md:bg-transparent",hideCloseButton:!0,modal:!0,open:t,children:(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 px-3 pt-28 md:top-28 md:px-6 md:pt-0",children:renderContent()})})},F=r(82701),A=r(87217),D=r(43091),Input_InputCode=e=>{let{value:t,length:r=4,onChange:n,onComplete:a,disabled:o,className:l}=e,i=(0,F.m)(D.P.pinInput,l);return(0,s.jsx)(A.E,{type:"number",placeholder:"",isDisabled:o,onComplete:e=>{null==a||a(e)},onChange:e=>{null==n||n(e)},value:t,autoFocus:!0,children:(0,s.jsx)("div",{"data-type":"otp",className:"group flex w-full space-x-3 overflow-x-hidden md:justify-between",children:Array.from({length:r}).map((e,t)=>(0,s.jsx)(A.x,{onKeyDown:e=>{e.currentTarget.value&&"Backspace"!==e.code&&e.currentTarget.blur()},className:i},t))})})},z=r(8193);let useRegisterSocial=(e,t)=>(0,h.y)("registerSocial",async(e,r)=>{let{arg:s}=r;return await (0,p.iY)({params:s},t)},e);var L=r(3990);let U=i.Ry({otp:i.Z_().min(4).max(4)}),G=(0,a.forwardRef)((e,t)=>{let{...r}=e,{onResendOTP:n}=r,{otpFor:i,close:d}=(0,m.QK)(),{close:u}=(0,m.EJ)(),{open:p}=(0,m.Z$)(),{provider:h}=(0,m.e3)(),{phone:x,authType:f}=(0,m.bt)(),{social:v}=(0,m.e3)(),{setUserToken:b}=(0,T.L)(),{startLoading:N,stopLoading:j}=(0,L.R)(),[w,y]=(0,a.useState)(!1),{redirectAfterLogin:P}=(0,C.N)(),{onHandleLoginSuccess:O}=(0,S.J)(),k=(0,l.cI)({resolver:(0,o.F)(U)});(0,a.useImperativeHandle)(t,()=>({resetForm}));let handleLoginSuccess=e=>{let{responseData:t,success:r,errorMessage:s}=e||{};if(j(),!r){k.setError("otp",{message:s});return}let{data:n}=t||{},{access_token:a,refresh_token:o,external_data:l}=n||{};b(a,o,null==l?void 0:l.access_token),d(),"login"===i&&(O(),u(),P()),"newUser"===i&&p(),"forgotPassword"===i&&p()},handleResendOTP=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];n(e)},{trigger:_}=useLogin({onSuccess:handleLoginSuccess}),{trigger:E}=useRegisterSocial({onSuccess:handleLoginSuccess},h||""),resetForm=()=>{k.reset(),y(!1)},handleSubmit=()=>{let e=k.getValues();if(N(),"socialOTP"===f){if(!(null==v?void 0:v.social_id))return;E({phone:x,otp:e.otp,...v})}else _({username:x,password:e.otp})};return(0,s.jsxs)(c.l0,{...k,children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"upper-title",children:"Nhập m\xe3 x\xe1c thực"}),(0,s.jsxs)("p",{children:["M\xe3 x\xe1c thực (OTP) đ\xe3 được gửi qua số điện thoại",(0,s.jsx)("span",{className:"ml-1 font-semibold",children:x})]})]}),(0,s.jsxs)("form",{className:"space-y-4",children:[(0,s.jsx)(c.Wi,{control:k.control,name:"otp",render:e=>{let{field:{value:t,onChange:r}}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.NI,{children:(0,s.jsx)(Input_InputCode,{value:t,disabled:w,onChange:e=>{k.clearErrors(),r(e)},onComplete:()=>{handleSubmit()}})}),(0,s.jsx)(c.zG,{})]})}}),w?(0,s.jsxs)("p",{children:["Nếu bạn vẫn chưa nhận được m\xe3? Vui l\xf2ng chọn"," ",(0,s.jsx)("span",{onClick:()=>handleResendOTP(!1),className:"cursor-pointer text-primary-500",children:"Gửi lại m\xe3 OTP"})," ","hoặc"," ",(0,s.jsx)("span",{onClick:()=>handleResendOTP(!0),className:"cursor-pointer text-primary-500",children:"Nhận m\xe3 qua cuộc gọi"})]}):(0,s.jsxs)("p",{children:["M\xe3 x\xe1c thực sẽ hết hiệu lực sau"," ",(0,s.jsx)("span",{className:"inline-block text-primary-500",children:(0,s.jsx)(z.Z,{size:"sm",onEnd:()=>{k.setError("otp",{message:g.X.OTP_EXPIRED}),y(!0)},totalSecond:120,className:"flex w-5 items-center justify-center font-semibold"})})]})]})]})});G.displayName="FormOTPInput";let useGetOTPRegister=e=>(0,h.y)("getOTPRegister",async(e,t)=>{let{arg:r}=t;return await (0,p.Fk)({params:r})},e),useGetOTPLogin=e=>(0,h.y)("getOTPLogin",async(e,t)=>{let{arg:r}=t;return await (0,p.W0)({params:r})},e),useGetOTPForgotPassword=e=>(0,h.y)("getOTPForgotPassword",async(e,t)=>{let{arg:r}=t;return await (0,p.Bi)({params:r})},e),useGetOTPSocial=(e,t)=>(0,h.y)("getOTPSocial",async(e,r)=>{let{arg:s}=r;return await (0,p.Si)({params:s},t)},e);var V=r(18835),Auth_OTPDrawer=()=>{let{startLoading:e,stopLoading:t}=(0,L.R)(),{isDesktop:r}=(0,E.J)(),{isOpen:n,close:o,setIsShowOPTInput:l}=(0,m.QK)(),{provider:i}=(0,m.e3)(),[c,u]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!1),{showError:f}=(0,V.X)(),g=(0,a.useRef)(),v=(0,a.useRef)(),{phone:N,authType:j}=(0,m.bt)(),[w,y]=(0,a.useState)(null),[P,C]=(0,a.useState)(!1),[T,S]=(0,a.useState)(!1),checkContinue=e=>e>.5||(handleGetReCaptChaV2(),!1),handleGetOTPSuccess=e=>{var r;t(),C(!1);let{responseData:s,success:n,errorMessage:a,metadata:i}=e||{};if(!n){f({metadata:i,message:a||""}),p||o();return}let{data:c}=s||{};checkContinue(void 0!==c.recaptcha_score?c.recaptcha_score:1)&&(null===(r=v.current)||void 0===r||r.resetForm(),setTimeout(()=>{u(!0),l(!0)},400))},{trigger:_}=useGetOTPRegister({onSuccess:handleGetOTPSuccess}),{trigger:R}=useGetOTPLogin({onSuccess:handleGetOTPSuccess}),{trigger:I}=useGetOTPForgotPassword({onSuccess:handleGetOTPSuccess}),{trigger:F}=useGetOTPSocial({onSuccess:handleGetOTPSuccess},i||""),handleGetReCaptChaV2=()=>{C(!0);let e=setTimeout(()=>{g.current=(0,x.Sv)({htmlElement:"otpReCaptChaV2",onVerify:t=>{y({recaptcha:t,version:"v2"}),handleResetTokenReCaptChaV2(),clearTimeout(e)}})},0)},handleResetTokenReCaptChaV2=()=>{null!==g.current&&(0,x.CG)(g.current)},callGetOtpAPI=async()=>{if(e(),!(null==w?void 0:w.recaptcha))return;let t={phone:N,...w,voice:T};switch(j){case"registerOTP":_(t);break;case"loginOTP":R(t);break;case"forgotPasswordOTP":I(t);break;case"socialOTP":F(t)}},getCaptChaV3=async()=>{let e=await (0,x.M1)("login");y({recaptcha:e,version:"v3"})},handleResendOTP=e=>{h(!0),S(e);let t=setTimeout(()=>{getCaptChaV3(),clearTimeout(t)},0)};(0,a.useEffect)(()=>{w&&(h(!1),callGetOtpAPI())},[w]);let handleBack=()=>{u(!1),l(!1),o()};(0,a.useEffect)(()=>{if(!n){u(!1),l(!1),S(!1);return}getCaptChaV3()},[n]);let renderFormInput=()=>(0,s.jsxs)("div",{className:"md:mx-auto md:bg-white md:pt-10",children:[(0,s.jsx)("div",{className:"absolute left-0 right-0 top-0 mb-2 flex w-full bg-white  px-3  pt-6 md:z-10 md:px-6",children:(0,s.jsx)(d.default,{className:"ml-[-1rem]",shape:"link",onClick:handleBack,children:(0,s.jsx)(b.Z,{name:"BackOutline"})})}),(0,s.jsx)("div",{className:"mb-12 md:mb-0",children:(0,s.jsx)(G,{ref:v,onResendOTP:handleResendOTP})})]});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.Z,{className:"max-w-[350px] pt-6 md:top-[50%] md:max-w-[350px] md:translate-y-[-50%]",title:"",modal:!0,open:P,hideCloseButton:!0,children:(0,s.jsx)("div",{className:"flex items-center justify-center",id:"otpReCaptChaV2"})}),r?c&&(0,s.jsx)("div",{className:"bottom-0 left-0 right-0 top-0 z-10",children:renderFormInput()}):(0,s.jsx)(O.Z,{placement:"right",className:"h-full overflow-x-hidden rounded-none border-0 md:bg-transparent",hideCloseButton:!0,modal:!0,open:c,children:(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 px-3 pt-28 md:top-28 md:px-6 md:pt-0",children:renderFormInput()})})]})},Z=r(40744),M=r(60787),Auth_PolicyModal=function(){let{isOpen:e,close:t}=(0,m.cW)(),{openOTPDrawerWithType:r}=(0,m.QK)(),[o,l]=(0,a.useState)(!1);if(e)return(0,s.jsxs)(n.Z,{className:"px-0 pb-0 md:top-[50%] md:!max-h-[calc(100vh-40px)] md:max-w-[413px] md:translate-y-[-50%]",overlayClassName:"bg-transparent",title:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(P.Z,{theme:"dark",className:"md:hidden"}),(0,s.jsx)("span",{className:"mt-[-0.35rem] hidden pr-6 leading-7 md:block",children:"Thỏa thuận người d\xf9ng Pharmacity, ch\xednh s\xe1ch bảo mật."})]}),modal:!0,open:e,onOpenChange:t,childClassName:{header:"bg-white p-4 md:px-6"},children:[(0,s.jsxs)("div",{className:"px-3 pb-[192px] md:mt-[-1rem] md:px-0 md:pb-0",children:[(0,s.jsx)("h2",{className:"mb-2 text-xl font-bold md:hidden",children:"Thoả thuận người d\xf9ng Pharmacity, ch\xednh s\xe1ch bảo mật."}),(0,s.jsx)("p",{className:"mb-6",children:"Ch\xfang t\xf4i hiểu rằng Pharmacity thu thập th\xf4ng tin của kh\xe1ch h\xe0ng th\xf4ng qua 3 k\xeanh ch\xednh: trực tiếp tại cửa h\xe0ng, trực tuyến th\xf4ng qua website của Pharmacity hoặc trực tuyến th\xf4ng qua ứng dụng Pharmacity. Th\xf4ng tin được thu thập trong qu\xe1 tr\xecnh kh\xe1ch h\xe0ng đăng k\xfd th\xe0nh vi\xean Thẻ Th\xe0nh Vi\xean. Theo trải nghiệm của ch\xfang t\xf4i, kh\xe1ch h\xe0ng kh\xf4ng được hỏi để đồng \xfd với Ch\xednh S\xe1ch Bảo Mật của Pharmacity, trừ trong ứng dụng Pharmacity. Ch\xfang t\xf4i hiểu rằng trải nghiệm của ch\xfang t\xf4i c\xf3 thể kh\xf4ng ch\xednh x\xe1c. Nếu đ\xfang như vậy, vui l\xf2ng cung cấp một bản sao của phiếu thu thập th\xf4ng tin kh\xe1ch h\xe0ng, hoặc ảnh chụp m\xe0n h\xecnh trang web nơi kh\xe1ch h\xe0ng được y\xeau cầu đưa ra sự ‘đồng \xfd’."})]}),(0,s.jsxs)("div",{className:"fixed bottom-0 bg-white p-3 pb-6 shadow-lg md:static md:px-0 md:pt-0 md:shadow-none",children:[(0,s.jsx)("div",{className:"mb-6 flex md:mb-10",children:(0,s.jsx)(Z.X,{checked:o,onChange:()=>{l(!o)},children:(0,s.jsxs)("span",{className:"mt-[-0.35rem] inline-block",children:["T\xf4i đ\xe3 đọc v\xe0 đồng \xfd điều khoản sử dụng",(0,s.jsx)(M.Z,{target:"_blank",href:"https://www.pharmacity.vn/page/chinh-sach-bao-mat",className:"ml-2 text-primary-500",children:"Thoả thuận người d\xf9ng Pharmacity, ch\xednh s\xe1ch bảo mật."})]})})}),(0,s.jsx)("div",{children:(0,s.jsx)(d.default,{onClick:()=>{l(!1),t(),r("newUser")},disabled:!o,block:!0,size:"md",children:"T\xf4i đồng \xfd"})})]})]})};let W=i.Ry({phone:i.Z_().max(10,g.X.PHONE_INPUT)}).refine(e=>!!(10!==e.phone.length||e.phone.startsWith("0")),{message:g.X.PHONE_INPUT,path:["phone"]});var components_FormUpdatePhoneInput=()=>{let{setPhoneNumber:e,setAuthType:t}=(0,m.bt)(),{openOTPDrawerWithType:r}=(0,m.QK)(),{provider:n}=(0,m.e3)(),a=(0,l.cI)({resolver:(0,o.F)(W),defaultValues:{phone:""}});return(0,s.jsx)(c.l0,{...a,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"upper-title",children:"Cập nhật số điện thoại"}),(0,s.jsxs)("p",{className:"mb-5",children:["H\xe3y nhập số điện thoại để kết nối với t\xe0i khoản"," ",(0,s.jsx)("span",{className:"capitalize",children:null!=n?n:""})," của bạn nh\xe9"]}),(0,s.jsxs)("form",{onSubmit:a.handleSubmit(s=>{e(s.phone),r("newUser"),t("socialOTP")}),className:"space-y-4",children:[(0,s.jsx)(c.Wi,{control:a.control,name:"phone",render:e=>{let{field:{onChange:t}}=e;return(0,s.jsxs)(c.xJ,{children:[(0,s.jsx)(c.lX,{children:"Số điện thoại"}),(0,s.jsx)(c.NI,{children:(0,s.jsx)(u.Z,{size:"lg",masks:{format:"#### ### ###",mask:" "},placeholder:"Nhập số điện thoại",onChange:e=>{a.clearErrors(),t(e)},inputMode:"numeric",autoFocus:!0})}),(0,s.jsx)(c.zG,{})]})}}),(0,s.jsx)(d.default,{disabled:!a.formState.isValid,block:!0,size:"md",type:"submit",children:"Tiếp tục"})]})]})})};let B=y()(()=>Promise.all([r.e(1157),r.e(205)]).then(r.bind(r,30205)),{loadableGenerated:{webpack:()=>[30205]},ssr:!1,loading:()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(d.default,{size:"md",block:!0,color:"secondary",children:[(0,s.jsx)(b.Z,{name:"FacebookColor",className:"mr-1.5"})," ",(0,s.jsx)("span",{children:"Tiếp tục với Facebook"})]}),(0,s.jsxs)(d.default,{size:"md",block:!0,color:"secondary",children:[(0,s.jsx)(b.Z,{name:"GoogleColor",className:"mr-1.5"})," Tiếp tục với Google"]})]})});var LoginModal=function(){let{isOpen:e,close:t}=(0,m.EJ)(),{onCloseLoginModal:r}=(0,C.N)(),{isOpen:o}=(0,m.tT)(),{isOpen:l}=(0,m.PU)(),{isOpen:i}=(0,m.Z$)(),{isOpen:c,close:d}=(0,m.dS)(),{isShowOTPInput:u}=(0,m.QK)(),p=(0,a.useMemo)(()=>l||o||u||i,[o,l,u,i]);if(e)return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.Z,{className:"overflow-x-hidden md:top-[15%] md:max-w-[413px] md:translate-y-0 md:pt-6",modal:!0,open:e,onOpenChange:()=>{t(),d(),r()},children:[(0,s.jsxs)("div",{className:"".concat(p?"md:hidden ":""),children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 p-4 md:hidden",children:(0,s.jsx)(P.Z,{theme:"dark",className:"md:mx-auto"})}),c?(0,s.jsx)(components_FormUpdatePhoneInput,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mb-16",children:(0,s.jsx)(components_FormPhoneInput,{})}),(0,s.jsxs)("div",{className:"mb-12 space-y-4 md:mb-0",children:[(0,s.jsx)("div",{className:"text-center font-semibold text-neutral-600",children:"Hoặc"}),(0,s.jsx)(B,{})]})]})]}),!u&&!i&&(0,s.jsx)(Auth_PasswordDrawer,{}),(0,s.jsx)(Auth_CreatePasswordDrawer,{}),(0,s.jsx)(Auth_OTPDrawer,{})]}),(0,s.jsx)(Auth_ConfirmTypeLoginDrawer,{}),(0,s.jsx)(Auth_PolicyModal,{})]})},Auth=function(){return(0,s.jsx)(LoginModal,{})}},48205:function(e,t,r){"use strict";r.d(t,{Z:function(){return Common_AlertDialog}});var s=r(13050);r(8434);var n=r(88882);let a={base:"fixed left-[50%] top-[50%] md:top-[22%] h-fit max-h-[80%] w-full  translate-x-[-50%] translate-y-[-50%] rounded-lg overflow-auto max-w-[95%] md:block px-4 md:px-6 pt-16 pb-4 md:pb-6 z-50 gap-4 border bg-background shadow-lg duration-200",size:{sm:"md:max-w-md",md:"md:max-w-lg",lg:"md:max-w-xl",full:""}};var o=r(57556),Common_AlertDialog=function(e){let{title:t,className:r,overlayClassName:l,size:i="md",hideCloseButton:c=!1,children:d,...u}=e;return(0,s.jsx)(n.Vq,{...u,modal:!0,children:(0,s.jsxs)(n.cZ,{className:(0,o.cn)(a.base,a.size[i],r),onPointerDownOutside:e=>e.preventDefault(),overlayClassName:l,children:[(0,s.jsx)(n.fK,{className:"fixed left-0 top-0",children:t&&(0,s.jsx)(n.$N,{children:t})}),!c&&(0,s.jsx)(n.GG,{}),d]})})}},40744:function(e,t,r){"use strict";r.d(t,{X:function(){return Checkbox_Checkbox},c:function(){return Checkbox_CheckboxGroup}});var s=r(13050),n=r(8434),a=r(82701);let o={base:"flex h-5 w-5 rounded items-center justify-center border border-neutral-300 text-white/100 group-hover:border-primary-500 cursor-pointer peer-checked:bg-primary-500 peer-checked:border-primary-500\n  before:contents[' ']  before:h-[6px] before:-rotate-45 before:w-[10px] before:border-white before:border-2 before:border-r-0 before:border-t-0 before:mb-[2px] peer-disabled:bg-neutral-600 peer-disabled:border-neutral-600",groupBase:"items-center gap-4",groupDisplayType:{vertical:"grid col-span-1",horizontal:"flex"}};var Checkbox_Checkbox=e=>{let{id:t,label:r,className:l,checked:i=!1,onChange:c,children:d,containerClassName:u,labelClassName:m,disabled:p=!1,...h}=e,x=(0,n.useId)(),f=t||"radio_".concat(x);return(0,s.jsx)("div",{children:(0,s.jsxs)("label",{htmlFor:f,"data-checked":i,className:(0,a.m)(["group inline-flex cursor-pointer items-start",u,p?"disabled":""]),children:[(0,s.jsxs)("span",{className:"whitespace-nowrap",children:[(0,s.jsx)("input",{disabled:p,className:"peer absolute opacity-0",id:f,type:"checkbox",checked:i,onChange:e=>{c&&c(e.target.checked)},...h}),(0,s.jsx)("span",{className:(0,a.m)(o.base,l),children:" "})]}),(0,s.jsx)("span",{className:(0,a.m)(["ml-2",m]),children:d||r})]})})},Checkbox_CheckboxGroup=e=>{let{name:t,options:r,value:n=[],onChange:l,displayType:i="vertical",className:c,childClassName:d}=e,handleChange=(e,t)=>{let r=[...n];e?r.push(t):r=n.filter(e=>e!==t),null==l||l(r)};return(0,s.jsx)("div",{className:(0,a.m)(o.groupBase,o.groupDisplayType[i],c),children:null==r?void 0:r.map((e,r)=>(0,s.jsx)(Checkbox_Checkbox,{name:t,label:e.label,checked:null==n?void 0:n.includes(e.value),onChange:t=>handleChange(t,e.value),className:null==d?void 0:d.indicator,labelClassName:null==d?void 0:d.label,containerClassName:null==d?void 0:d.container},"".concat(e.value).concat(r)))})}},8193:function(e,t,r){"use strict";r.d(t,{Z:function(){return CountDown}});var s=r(13050),n=r(8434);let a={size:{sm:{separator:"md:text-sm",child:'data-[len="3"]:w-[36px] w-[26px] data-[len="3"]:w-[36px] md:h-6 md:text-sm md:data-[len="3"]:w-[36px]'},md:{separator:"md:text-xl",child:'md:w-10 md:h-10 md:text-xl md:py-[6px] md:data-[len="3"]:w-[50px]'}},color:{light:{separator:"text-sm text-white",child:'inline-block bg-white data-[len="3"]:w-[36px] w-[26px] h-6 rounded-sm py-[2px] px-1 mx-[2px] text-sm md:font-bold text-center'},red:{separator:"text-white text-sm",child:'inline-block data-[len="3"]:w-[36px] w-[26px] h-6 bg-white text-red-500 rounded-sm py-[2px] px-1 mx-[2px] text-sm md:font-bold text-center'},white:{separator:"text-neutral-50 text-sm",child:"inline-block w-fit min-w-[24px] h-6 bg-neutral-50 text-red-500 rounded-sm py-[2px] px-1 mx-[2px] text-sm md:font-bold text-center"}}};var o=r(57556),CountDown=e=>{let{totalSecond:t,onEnd:r,start:l=!0,separator:i=":",className:c="",classNameSeparator:d="",hideHours:u=!0,endTime:m="",color:p="",size:h="md"}=e,x=(0,o.cn)(p?a.color[p].child:"",a.size[h].child,c),f=(0,o.cn)(p?a.color[p].separator:"",a.size[h].separator,d),calculateTimeRemaining=e=>({hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}),g=(0,n.useMemo)(()=>t||(m?(new Date(m).getTime()-new Date().getTime())/1e3:0),[t,m]),[v,b]=(0,n.useState)(g),[N,j]=(0,n.useState)(calculateTimeRemaining(g));return(0,n.useEffect)(()=>{if(!l)return;if(v<=0){null==r||r();return}let e=calculateTimeRemaining(v);j(e);let t=setInterval(()=>{b(e=>e-1)},1e3);return()=>clearInterval(t)},[l,v]),(0,s.jsxs)("span",{className:"flex items-center",children:[!u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{"data-len":"".concat(N.hours).length,className:x,children:N.hours<10?"0".concat(N.hours):N.hours}),(0,s.jsx)("span",{className:f,children:i})]}),(0,s.jsx)("span",{className:x,children:N.minutes<10?"0".concat(N.minutes):N.minutes}),(0,s.jsx)("span",{className:f,children:i}),(0,s.jsx)("span",{className:x,children:N.seconds<10?"0".concat(N.seconds):N.seconds})]})}},81428:function(e,t,r){"use strict";r.d(t,{Z:function(){return Common_Drawer}});var s=r(13050);r(8434);var n=r(88882);let a={base:"px-4 overflow-x-auto md:px-6 lef-0 fixed bottom-0 right-0 z-50 grid w-full gap-4 border bg-background pt-[4.5rem] md:pt-20  pb-10 rounded-t-lg",placement:{top:{open:"animate-moveToBottom",close:"animate-moveToTop"},left:{open:"animate-moveToRight",close:"animate-moveToLeft"},bottom:{open:"animate-moveToTop",close:"animate-moveToBottom"},right:{open:"animate-moveToLeft",close:"animate-moveToRight"}}};var o=r(57556),l=r(7611),Common_Drawer=function(e){let{title:t,children:r,className:i,placement:c="bottom",hideCloseButton:d=!1,open:u,trigger:m,childClassName:p,contentProps:h,...x}=e;return(0,s.jsxs)(n.Vq,{...x,modal:!0,open:u,children:[m?(0,s.jsx)(n.hg,{asChild:!0,...m.props,children:m.element}):null,(0,s.jsx)(l.t9,{}),(0,s.jsxs)(n.cZ,{className:(0,o.cn)(a.base,u?"".concat(a.placement[c].open):"".concat(a.placement[c].close),i),onPointerDownOutside:e=>e.preventDefault(),...h,children:[(0,s.jsx)(n.fK,{className:null==p?void 0:p.header,children:t&&(0,s.jsx)(n.$N,{className:null==p?void 0:p.title,children:t})}),r,!d&&(0,s.jsx)(n.GG,{className:(0,o.cn)(["top-5",null==p?void 0:p.close])})]})]})}},19407:function(e,t,r){"use strict";var s=r(13050),n=r(8434),a=r(82701),o=r(92409),l=r(43091);let i=(0,n.forwardRef)((e,t)=>{let{type:r="text",value:n,onChange:i,onPressEnter:c,size:d="md",placeholder:u,required:m,className:p,inputMode:h="text",masks:x,suffix:f,prefix:g,suffixClassName:v,prefixClassName:b,...N}=e,j=(0,a.m)(l.P.base,l.P.size[d],p,f?"pr-10":"",g?"pl-10":"");return(0,s.jsxs)("div",{className:"relative flex",children:[g&&(0,s.jsx)("span",{className:(0,a.m)(["absolute left-0 flex h-full items-center px-3",b]),children:g}),(null==x?void 0:x.format)?(0,s.jsx)(o.HH,{onValueChange:e=>null==i?void 0:i(e.value),value:n,className:j,placeholder:u,inputMode:h,autoFocus:N.autoFocus,...x}):(0,s.jsx)("input",{...N,ref:t,type:r,className:j,value:n,onChange:e=>{null==i||i(e.target.value)},onKeyUp:e=>{c&&"Enter"===e.key&&c()},placeholder:u,required:m,inputMode:h}),f&&(0,s.jsx)("span",{className:(0,a.m)(["absolute right-0 flex h-full items-center px-3",v]),children:f})]})});i.displayName="Input",t.Z=i},43091:function(e,t,r){"use strict";r.d(t,{P:function(){return s}});let s={base:"w-full border border-neutral-500 text-neutral-900 rounded-lg placeholder:text-neutral-600 font-semibold focus:ring-neutral-500 focus:border-neutral-700 outline-none",disabled:"cursor-not-allowed opacity-50",pinInput:"text-2xl caret-transparent font-semibold w-14 h-20 py-6 px-5 text-center border border-neutral-100 bg-neutral-100 text-neutral-900 rounded-lg focus:ring-primary-50 focus:bg-primary-50 focus:border-primary-500 outline-none",size:{sm:"text-sm p-2.5 h-9",md:"text-base p-3.5 h-12",lg:"text-lg p-4 h-13.5"}}},514:function(e,t,r){"use strict";r.d(t,{Z:function(){return Common_Modal}});var s=r(13050),n=r(88882),a=r(57556),o=r(7611);r(8434);let l={base:"grid focus-visible:outline-0 md:block overflow-x-auto px-4 md:px-6 pt-28 pb-6 left-0 fixed bottom-0 right-0 top-0 z-50 w-full gap-4 border bg-background shadow-lg duration-200",size:{sm:"",md:"md:left-[50%] md:top-[50%] md:h-fit md:max-h-[90%] md:w-full md:max-w-lg md:translate-x-[-50%] md:translate-y-[-50%] md:rounded-lg",lg:"",full:""}};var Common_Modal=function(e){let{title:t,className:r,size:i="md",hideCloseButton:c=!1,isCloseClickOutside:d=!1,children:u,trigger:m,childClassName:p,overlayClassName:h,...x}=e;return(0,s.jsxs)(n.Vq,{...x,modal:!0,children:[m?(0,s.jsx)(o.hg,{asChild:!0,...m.props,children:m.element}):null,(0,s.jsxs)(n.cZ,{className:(0,a.cn)(l.base,l.size[i],r),onPointerDownOutside:e=>{d||e.preventDefault()},overlayClassName:h,children:[(0,s.jsx)(n.fK,{className:(0,a.cn)(["fixed left-0 top-0",null==p?void 0:p.header]),children:t&&(0,s.jsx)(n.$N,{className:null==p?void 0:p.title,children:t})}),!c&&(0,s.jsx)(n.GG,{className:(0,a.cn)("z-10 ".concat("full"===i?"xl:mr-[10%]":""),null==p?void 0:p.close)}),u]})]})}},70870:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Error_ErrorHandler}});var s=r(13050),n=r(48205),a=r(55340),o=r(63364),l=r(18835),i=r(8434);let formatErrorMessage=(e,t)=>{let r=e.replace(/\[(\d+)\]/g,"{$1}"),s={...t};return delete s[0],{message:r,code:t[0],data:s}};var c=r(10874),d=r(32044),u=r(53923),ErrorHandler_ErrorMessage=e=>{let{...t}=e,{data:r}=t;return"1002"===r.code?(0,s.jsx)(d.Z,{data:r}):"1005"===r.code?(0,s.jsx)(u.Z,{data:r}):r.message},m=r(26074),Error_ErrorHandler=()=>{let{data:e,type:t,hiddenError:r}=(0,l.X)(),[d,u]=(0,i.useState)();if((0,i.useEffect)(()=>{if(!e)return;let t=formatErrorMessage(e.message,e.metadata),r=c.E[t.code]||"toast",n={...t,type:r};u(n),"toast"===r&&(0,o.Am)({title:"Đ\xe3 xảy ra lỗi",description:(0,s.jsx)(ErrorHandler_ErrorMessage,{data:n}),icon:(0,s.jsx)(a.Z,{className:"text-red-500",name:"NotiFill"})})},[e,t]),e&&d)return"dialog"===d.type?(0,s.jsxs)(n.Z,{title:(0,s.jsx)("span",{className:"mx-3 md:mx-0",children:"Gửi m\xe3 x\xe1c thực thất bại!"}),className:"px-6 pb-6 md:top-[15%] md:max-w-[413px] md:translate-y-0",hideCloseButton:!0,open:!0,onOpenChange:()=>{r()},children:[(0,s.jsx)("div",{className:"mb-10",children:(0,s.jsx)(ErrorHandler_ErrorMessage,{data:d})}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(m.default,{onClick:()=>{r()},size:"md",className:"px-6",color:"primary",children:"OK"})})]}):null}},76654:function(e,t,r){"use strict";r.r(t);var s=r(13050);r(8434);var n=r(88882),a=r(3990),o=r(47850);t.default=function(){let{isLoading:e}=(0,a.R)();return(0,s.jsx)(n.Vq,{open:e,modal:!0,children:(0,s.jsx)(n.cZ,{className:"item-center fixed left-[50%] top-[50%] z-50 flex h-fit max-h-[80%]  w-full max-w-[95%] translate-x-[-50%]  translate-y-[-50%] justify-center gap-4 overflow-auto rounded-lg bg-none p-4 text-center text-white duration-200  focus-visible:outline-0",onPointerDownOutside:e=>e.preventDefault(),children:(0,s.jsx)(o.H,{size:"xl"})})})}},50453:function(e,t,r){"use strict";var s=r(13050);r(8434);var n=r(23508),a=r(60787),o=r(57556);t.Z=e=>{let{className:t="",href:r="/",src:l="/logo.svg",size:i="sm"}=e;return(0,s.jsx)(a.Z,{href:r,children:(0,s.jsx)(n.default,{className:(0,o.cn)("w-auto cursor-default","sm"===i?"h-[28px]":"h-[36px]",t),src:l,alt:"Pharmacity Logo"})})}},18167:function(e,t,r){"use strict";r.r(t),r.d(t,{PreloadResources:function(){return PreloadResources}});var s=r(58008);function PreloadResources(){return s.preconnect("https://www.google.com"),null}},32962:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Provider_ClientProvider}});var s=r(13050),n=r(4045),a=r(60834);let useCartSummary=(e,t)=>{let{enabled:r,params:s}=e,o=(0,n.G)(r?{key:"cartSummary",params:s}:null,a.Uq,{revalidateOnFocus:!0,revalidateOnReconnect:!1,...t});return o};var o=r(8434),l=r(91621),hooks_useFirebase=()=>{(0,o.useEffect)(()=>{(0,l.R6)()},[])},i=r(88899),c=r(78987),hooks_useSetTokenToSession=()=>{let e=(0,i.LP)(),t=(0,o.useCallback)(e=>{let{key:t,newValue:r}=e;t===c.u.userToken&&(0,i.h6)(r||"")},[e]);(0,o.useEffect)(()=>(window.addEventListener("storage",t),(0,i.h6)(e||""),()=>{window.removeEventListener("storage",t)}),[])},d=r(77430);let u=!!window.document&&!!window.document.createElement,detectCurrentScreen=()=>{if(!u)return;let e="desktop";return window.innerWidth<=360?e="mobile":window.innerWidth<=768&&(e="tablet"),e},useResponsive=()=>{let{currentScreen:e,setCurrentScreen:t}=(0,d.J)(),handleResize=()=>{let r=detectCurrentScreen();e!==r&&r&&t(r)};(0,o.useEffect)(()=>{if(u)return e||handleResize(),window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize)}},[])};var m=r(66505),hooks_useToggleCareSoftChat=()=>{let e=(0,m.usePathname)(),{isMobile:t,isTablet:r}=(0,d.J)(),checkToggle=e=>{let s=document.getElementById("cs-live-chat");if(s){if(t||r){"/support"===e?s.style.display="block":s.style.display="none";return}"/"===e?s.style.display="block":s.style.display="none"}};return(0,o.useEffect)(()=>{let t=document.getElementById("cs-live-chat");t?checkToggle(e):setTimeout(()=>checkToggle(e),2e3)},[e,t,r]),{}},p=r(23195),h=r(43980),x=r(27978),f=r(62067),g=r.n(f),hooks_useGTM=()=>{(0,o.useEffect)(()=>{"development"!==x.environments.appMode&&g().initialize({gtmId:"GTM-N2PRT9T"})},[])},v=r(13703),b=r.n(v),hooks_useReRegisterFirebaseToken=()=>{(0,o.useEffect)(()=>{let e=(0,i.LP)();if(!e)return;let t=(0,i.cV)()||"0",r=b()(parseFloat(t)),s=b()();s.isAfter(r)&&(0,l.Xu)()},[])},N=r(62266),Provider_ClientProvider=function(e){var t,r;let{children:n}=e,a=h.i.use.init(),{isAuthenticated:l}=(0,N.i)(),i=null===(t=(r=p.x.use).id)||void 0===t?void 0:t.call(r),c=p.x.use.initializing(),d=p.x.use.initCart(),u=p.x.use.setCart(),m=p.x.use.resetCart();return useCartSummary({enabled:!!(l&&!c),params:{cart_id:i||void 0}},{onSuccess:e=>{if(e.success){var t,r;let s=null===(r=e.responseData)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.summary;u({...s})}else m()}}),useResponsive(),hooks_useSetTokenToSession(),hooks_useFirebase(),(0,o.useEffect)(()=>{a()},[a]),(0,o.useEffect)(()=>{d()},[d]),hooks_useToggleCareSoftChat(),hooks_useGTM(),hooks_useReRegisterFirebaseToken(),(0,s.jsx)(s.Fragment,{children:n})}},34169:function(e,t,r){"use strict";r.r(t);var s=r(13050),n=r(14934);t.default=e=>{let{children:t}=e;return(0,s.jsxs)(s.Fragment,{children:[t,(0,s.jsx)(n.Cd,{height:"3px",color:"#208BC9",options:{showSpinner:!1},shallowRouting:!0})]})}},82609:function(e,t,r){"use strict";r.r(t),r.d(t,{SWRProvider:function(){return SWRProvider}});var s=r(13050);r(8434);var n=r(30434);let SWRProvider=e=>{let{children:t}=e;return(0,s.jsx)(n.J$,{children:t})}},7044:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return components_ScriptLoad}});var s=r(13050);r(8434);var n=r(96431),a=r.n(n),o=r(27978);let l="https://www.google.com/recaptcha/api.js?render=".concat(o.environments.reCaptchaSiteKeyV3,"&hl=vi");var components_ScriptLoad=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a(),{src:l,onError:e=>{console.error("Load reCaptCha error:",e)}}),(0,s.jsx)(a(),{id:"WEB_CHAT_CARE_SOFT_SCRIPT",type:"text/javascript",children:'!function(a,e,f,g,b,c,d){a.CSLiveChatWidget=b;a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)};a[b].l=1*new Date;c=e.createElement(f);d=e.getElementsByTagName(f)[0];c.async=1;c.src=g;d.parentNode.insertBefore(c,d)}(window,document,"script","https://webchat.caresoft.vn:8091/widget/widget.min.js?v=1.0","cslw");cslw("create",{domain:"pharmacity",domainId:6352});'})]})},88882:function(e,t,r){"use strict";r.d(t,{$N:function(){return h},GG:function(){return m},Vq:function(){return i},cZ:function(){return p},fK:function(){return DialogHeader},hg:function(){return c}});var s=r(13050),n=r(8434),a=r(7611),o=r(24191),l=r(57556);let i=a.fC,c=a.xz,d=a.h_,u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n})});u.displayName=a.aV.displayName;let m=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsxs)(a.x8,{ref:t,className:(0,l.cn)("fixed right-2 top-5 rounded-sm opacity-100 outline-0 ring-offset-background transition-opacity hover:opacity-80 md:right-4 md:top-6",r),...n,children:[(0,s.jsx)(o.Z,{className:"h-7 w-7"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})});m.displayName=a.x8.displayName;let p=n.forwardRef((e,t)=>{let{className:r,children:n,overlayClassName:o,enableScroll:i=!1,...c}=e;return(0,s.jsx)(d,{children:i?(0,s.jsx)(u,{className:(0,l.cn)(["bg-black/50 backdrop-blur-none",o]),children:(0,s.jsx)(a.VY,{ref:t,className:r,...c,children:n})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u,{className:(0,l.cn)(["bg-black/50 backdrop-blur-none",o])}),(0,s.jsx)(a.VY,{ref:t,className:r,...c,children:n})]})})});p.displayName=a.VY.displayName;let DialogHeader=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)("absolute flex w-full flex-col space-y-1.5 px-4 pb-2 pt-6 md:px-6 md:pt-7",t),...r})};DialogHeader.displayName="DialogHeader";let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.Dx,{ref:t,className:(0,l.cn)("text-lg font-bold leading-none tracking-tight",r),...n})});h.displayName=a.Dx.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",r),...n})});x.displayName=a.dk.displayName},2576:function(e,t,r){"use strict";r.d(t,{l0:function(){return p},NI:function(){return v},pf:function(){return b},Wi:function(){return FormField},xJ:function(){return f},lX:function(){return g},zG:function(){return N},Pd:function(){return j}});var s=r(13050),n=r(8434),a=r(51222),o=r(79014),l=r(57556),i=r(20111),c=r(38786);let d=(0,c.j)("font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(i.f,{ref:t,className:(0,l.cn)(d(),r),...n})});u.displayName=i.f.displayName;var m=r(24784);let p=o.RV,h=n.createContext({}),FormField=e=>{let{...t}=e;return(0,s.jsx)(h.Provider,{value:{name:t.name},children:(0,s.jsx)(o.Qr,{...t})})},useFormField=()=>{let e=n.useContext(h),t=n.useContext(x),{getFieldState:r,formState:s}=(0,o.Gc)(),a=r(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...a}},x=n.createContext({}),f=n.forwardRef((e,t)=>{let{className:r,...a}=e,o=n.useId();return(0,s.jsx)(x.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:t,className:(0,l.cn)("space-y-2",r),...a})})});f.displayName="FormItem";let g=n.forwardRef((e,t)=>{let{className:r,...n}=e,{error:a,formItemId:o}=useFormField();return(0,s.jsx)(u,{ref:t,className:(0,l.cn)(a&&"text-red-500","font-semibold",r),htmlFor:o,...n})});g.displayName="FormLabel";let v=n.forwardRef((e,t)=>{let{className:r,...n}=e,{error:o,formItemId:i,formDescriptionId:c,formMessageId:d}=useFormField();return(0,s.jsx)(a.g7,{className:(0,l.cn)(o&&"!border-red-500 group-data-[type=otp]:!bg-red-50",r),ref:t,id:i,"aria-describedby":o?"".concat(c," ").concat(d):"".concat(c),"aria-invalid":!!o,...n})});v.displayName="FormControl";let b=n.forwardRef((e,t)=>{let{className:r,...n}=e,{formDescriptionId:a}=useFormField();return(0,s.jsx)("p",{ref:t,id:a,className:(0,l.cn)("text-sm text-muted-foreground",r),...n})});b.displayName="FormDescription";let N=n.forwardRef((e,t)=>{let{className:r,children:n,...a}=e,{error:o,formMessageId:i}=useFormField(),c=(0,m.useTranslations)(),d=o?String(null==o?void 0:o.message):n;if(/^formErrors\./.test((null==o?void 0:o.message)||"")&&(d=c(String(null==o?void 0:o.message))),/formErrorValues\./.test((null==o?void 0:o.message)||"")){let e=JSON.parse(String(null==o?void 0:o.message));d=c(e.key,e.value)}return d?(0,s.jsx)("p",{ref:t,id:i,className:(0,l.cn)("text-sm font-normal text-red-500",r),...a,children:d}):null});N.displayName="FormMessage";let j=n.forwardRef((e,t)=>{let{className:r,children:n,...a}=e,{error:o,formMessageId:i}=useFormField(),c=o?String(null==o?void 0:o.message):n;return c?(0,s.jsx)("p",{ref:t,id:i,className:(0,l.cn)("text-sm font-normal text-red-500",r),...a,children:c}):(0,s.jsx)("div",{className:"h-5"})});j.displayName="FormMessageNotHide"},41726:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return notify}});var s=r(13050),n=r(26074),a=r(84781),o=r(8434),l=r(57556);let i=a.fC;a.xz;let c=a.h_,d=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.aV,{className:(0,l.cn)("fixed inset-0 z-50 bg-black/50  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...n,ref:t})});d.displayName=a.aV.displayName;let u=o.forwardRef((e,t)=>{let{className:r,overlayProps:n,...o}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{...n}),(0,s.jsx)(a.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-[calc(100vw-calc(32rem/16))] max-w-lg translate-x-[-50%] translate-y-[-50%] gap-10 rounded-lg border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...o})]})});u.displayName=a.VY.displayName;let AlertDialogHeader=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-4 text-left",t),...r})};AlertDialogHeader.displayName="AlertDialogHeader";let AlertDialogFooter=e=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex justify-end space-x-4",t),...r})};AlertDialogFooter.displayName="AlertDialogFooter";let m=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.Dx,{ref:t,className:(0,l.cn)("text-xl font-semibold leading-6",r),...n})});m.displayName=a.Dx.displayName;let p=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.dk,{ref:t,className:(0,l.cn)("text-base text-neutral-900",r),...n})});p.displayName=a.dk.displayName;let h=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.aU,{ref:t,className:(0,l.cn)(r),...n})});h.displayName=a.aU.displayName;let x=o.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.$j,{ref:t,className:(0,l.cn)(r),...n})});x.displayName=a.$j.displayName;var f=r(22268),g=r(54523),v=r(24784),notify=function(){let{notifies:e,remove:t}=(0,f.d$)(),r=(0,v.useTranslations)();return e.map((e,a)=>{let{title:o,description:c,cancel:d,ok:f,onOk:v,onCancel:b,contentProps:N,titleProps:j,descriptionProps:w,headerProps:y,footerProps:P,okProps:O,okButtonProps:C,cancelProps:k,cancelButtonProps:T,type:S,id:_,closeWhenClickedOutside:E,...R}=e,I=E?{onClick:()=>{t(),null==b||b()}}:{};if("toast"===S){let e=setTimeout(()=>{t(_),clearTimeout(e)},g.qz);I={...I,className:"bg-transparent"}}return(0,s.jsx)(i,{...R,children:(0,s.jsxs)(u,{...N,className:(0,l.cn)(null==N?void 0:N.className,"toast"===S?"border-0 bg-black/80 text-white":""),overlayProps:I,onEscapeKeyDown:b,children:[(0,s.jsxs)(AlertDialogHeader,{...y,children:[(0,s.jsx)("div",{children:(0,s.jsx)(m,{...j,children:o})}),(0,s.jsx)(p,{...w,className:(0,l.cn)(null==w?void 0:w.className,"toast"===S?" text-center text-white":""),children:c})]}),"toast"!==S&&(0,s.jsxs)(AlertDialogFooter,{...P,children:[(0,s.jsx)(x,{...k,asChild:!0,onClick:b,children:d||("confirm"===S?(0,s.jsx)("div",{children:(0,s.jsx)(n.default,{size:"lg",color:"secondary",className:"w-fit",...T,children:r("notify.action.back")})}):(0,s.jsx)("div",{children:(0,s.jsx)(n.default,{size:"lg",className:"w-fit",...T,children:r("notify.action.cancel")})}))}),"confirm"===S&&(0,s.jsx)(h,{...O,asChild:!0,onClick:v,children:f||(0,s.jsx)("div",{children:(0,s.jsx)(n.default,{size:"lg",className:"w-fit",...C,children:r("notify.action.ok")})})})]})]})},a)})}},66748:function(e,t,r){"use strict";r.r(t),r.d(t,{Toaster:function(){return Toaster}});var s=r(13050),n=r(8434),a=r(88698),o=r(38786),l=r(24191),i=r(57556);let c=a.zt,d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.l_,{ref:t,className:(0,i.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:right-0 sm:flex-col md:max-w-[420px]",r),...n})});d.displayName=a.l_.displayName;let u=(0,o.j)("z-[100] group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",success:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m=n.forwardRef((e,t)=>{let{className:r,variant:n,...o}=e;return(0,s.jsx)(a.fC,{ref:t,className:(0,i.cn)(u({variant:n}),r),...o})});m.displayName=a.fC.displayName;let p=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.aU,{ref:t,className:(0,i.cn)("hover:bg-secondary inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...n})});p.displayName=a.aU.displayName;let h=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.x8,{ref:t,className:(0,i.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",r),"toast-close":"",...n,children:(0,s.jsx)(l.Z,{className:"h-4 w-4"})})});h.displayName=a.x8.displayName;let x=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.Dx,{ref:t,className:(0,i.cn)("text-sm font-semibold",r),...n})});x.displayName=a.Dx.displayName;let f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.dk,{ref:t,className:(0,i.cn)("text-sm opacity-90",r),...n})});f.displayName=a.dk.displayName;var g=r(63364);function Toaster(){let{toasts:e}=(0,g.pm)();return(0,s.jsxs)(c,{children:[e.map(function(e){let{id:t,title:r,description:n,action:a,icon:o,...l}=e;return(0,s.jsxs)(m,{...l,children:[(0,s.jsxs)("div",{className:"flex",children:[o&&(0,s.jsx)("div",{className:"mr-4",children:o}),(0,s.jsxs)("div",{className:"grid gap-1",children:[r&&(0,s.jsx)(x,{children:r}),n&&(0,s.jsx)(f,{children:n})]})]}),a,(0,s.jsx)(h,{})]},t)}),(0,s.jsx)(d,{})]})}},22268:function(e,t,r){"use strict";r.d(t,{d$:function(){return useNotify},h4:function(){return notify}});var s=r(8434);let n=0,reducer=(e,t)=>{switch(t.type){case"ADD_NOTIFY":return{...e,notifies:[t.notify,...e.notifies].slice(0,1)};case"UPDATE_NOTIFY":return{...e,notifies:e.notifies.map(e=>e.id===t.notify.id?{...e,...t.notify}:e)};case"REMOVE_NOTIFY":if(void 0===t.notifyId)return{...e,notifies:[]};return{...e,notifies:e.notifies.filter(e=>e.id!==t.notifyId)}}},a=[],o={notifies:[]};function dispatch(e){o=reducer(o,e),a.forEach(e=>{e(o)})}function notify(e){let{...t}=e,r=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),remove=()=>dispatch({type:"REMOVE_NOTIFY",notifyId:r});return dispatch({type:"ADD_NOTIFY",notify:{type:"confirm",...t,id:r,open:!0,onOpenChange:e=>{e||remove()}}}),{id:r,remove,update:e=>dispatch({type:"UPDATE_NOTIFY",notify:{...e,id:r}})}}function useNotify(){let[e,t]=s.useState(o);return s.useEffect(()=>(a.push(t),()=>{let e=a.indexOf(t);e>-1&&a.splice(e,1)}),[e]),{...e,notify,remove:e=>dispatch({type:"REMOVE_NOTIFY",notifyId:e})}}},37848:function(e,t,r){"use strict";r.d(t,{Jf:function(){return l},PZ:function(){return d},Rz:function(){return c},em:function(){return i},jO:function(){return n},mF:function(){return a},nH:function(){return u},rL:function(){return m},wg:function(){return p},yZ:function(){return o}});var s=r(92126);let n="PMC_CART",a=50,o=0,l=999,i="tab-promotion-code",c="tab-gift-card",d="pharmacity",u={[s.g.AVAILABLE]:1,[s.g.OFFLINE_ONLY]:2,[s.g.UNAVAILABLE]:3},m=100,p=0},10874:function(e,t,r){"use strict";r.d(t,{E:function(){return n},X:function(){return s}});let s={REQUIRED:"formErrors.REQUIRED",PHONE_INPUT:"formErrors.PHONE_INPUT",PASSWORD_WRONG:"formErrors.PASSWORD_WRONG",PASSWORD_WRONG_FORMAT:"formErrors.PASSWORD_WRONG_FORMAT",CONFIRM_PASSWORD_WRONG:"formErrors.CONFIRM_PASSWORD_WRONG",PASSWORD_HAVE_SPACE:"formErrors.PASSWORD_HAVE_SPACE",PASSWORD_DO_NOT_HAVE_CAPITAL_LETTER:"formErrors.PASSWORD_DO_NOT_HAVE_CAPITAL_LETTER",OTP_EXPIRED:"formErrors.OTP_EXPIRED",OTP_WRONG:"formErrors.OTP_WRONG",VALIDATION_NAME_INPUT:"formErrorValues.VALIDATION_NAME_INPUT",UPLOAD_PRESCRIPTION:"formErrors.UPLOAD_PRESCRIPTION"},n={1005:"dialog",1002:"toast"}},4045:function(e,t,r){"use strict";r.d(t,{G:function(){return useSWRPmc}});var s=r(30434);let useSWRPmc=(e,t,r)=>(0,s.ZP)(e,t,r)},38146:function(e,t,r){"use strict";r.d(t,{J:function(){return useHandleAfterLoginSuccess}});var s=r(91621);let useHandleAfterLoginSuccess=()=>({onHandleLoginSuccess:()=>{(0,s.Xu)()}})},78023:function(e,t,r){"use strict";r.d(t,{N:function(){return useRedirectAfterLogin}});var s=r(66505);let useRedirectAfterLogin=()=>{let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),r=t.get("callbackUrl");return{redirectAfterLogin:()=>{r?window.location.href=decodeURIComponent(r):e.refresh()},onCloseLoginModal:()=>{r&&e.replace("/")}}}},52208:function(e,t,r){"use strict";r.d(t,{U:function(){return useUpdatePassword}});var s=r(70379),n=r(95494);let useUpdatePassword=e=>(0,n.y)("updatePassword",async(e,t)=>{let{arg:r}=t;return await (0,s.gQ)({params:r})},e)},33599:function(e,t,r){"use strict";r.d(t,{EJ:function(){return a},PU:function(){return i},QK:function(){return u},Z$:function(){return c},bt:function(){return n},cW:function(){return l},dS:function(){return o},e3:function(){return m},tT:function(){return d}});var s=r(62284);let n=(0,s.Ue)(e=>({authType:"loginOTP",phone:"",otp:"",password:"",setAuthType:t=>e({authType:t}),setPhoneNumber:t=>e({phone:t}),setOtp:t=>e({otp:t}),setPassword:t=>e({password:t})})),a=(0,s.Ue)(e=>({isOpen:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1})})),o=(0,s.Ue)(e=>({isOpen:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1})})),l=(0,s.Ue)(e=>({isOpen:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1})})),i=(0,s.Ue)(e=>({isOpen:!1,resultType:"otp",open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),setType:t=>e({resultType:t})})),c=(0,s.Ue)(e=>({isOpen:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1})})),d=(0,s.Ue)(e=>({isOpen:!1,open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1})})),u=(0,s.Ue)(e=>({isOpen:!1,otpFor:"login",isShowOTPInput:!1,open:()=>e({isOpen:!0}),setIsShowOPTInput:t=>e({isShowOTPInput:t}),close:()=>e({isOpen:!1}),setOtpFor:t=>e({otpFor:t}),openOTPDrawerWithType:t=>e({isOpen:!0,otpFor:t})})),m=(0,s.Ue)(e=>({provider:"",accessToken:"",social:null,setSocialData:t=>e({social:t}),setData:t=>e({...t})}))},23195:function(e,t,r){"use strict";r.d(t,{x:function(){return c}});var s=r(37848),n=r(71603),a=r(3943),o=r(62284);let l={id:void 0,total:void 0,loading:!0,initializing:!0,selectedProducts:void 0,coupon:void 0,orderInfo:void 0,isQuicklyBuy:void 0,orderTransaction:void 0},i=(0,o.Ue)((e,t)=>({...l,initCart:()=>{let t=(0,a.X)(s.jO);e({...t,initializing:!1})},setCart:r=>{let{id:n,total:o}=r;e({id:n,total:o,loading:!1}),(0,a.s)(s.jO,{id:n,selectedProducts:t().selectedProducts,coupon:t().coupon})},setTotal:t=>{e({total:t})},resetCart:()=>{e({...l,loading:!1}),(0,a.s)(s.jO,{id:"",selectedProducts:[],coupon:[]})},setSelectedProducts:r=>{e({selectedProducts:r}),(0,a.s)(s.jO,{id:t().id,selectedProducts:r,coupon:t().coupon})},setCoupon:r=>{e({coupon:r}),(0,a.s)(s.jO,{id:t().id,selectedProducts:t().selectedProducts,coupon:r})},setDataCheckout:r=>{let{selectedProducts:n,coupon:o,isQuicklyBuy:l}=r;e({selectedProducts:n,coupon:o,isQuicklyBuy:l,orderInfo:void 0}),(0,a.s)(s.jO,{id:t().id,selectedProducts:n,coupon:o})},checkoutSuccess:r=>{var n;e({total:null===(n=r.summary)||void 0===n?void 0:n.total,orderInfo:{...r},selectedProducts:l.selectedProducts,coupon:l.coupon,isQuicklyBuy:l.isQuicklyBuy}),(0,a.s)(s.jO,{id:t().id})},setIsQuicklyBuy:t=>{e({isQuicklyBuy:t})},clearOrderInfo:()=>{e({orderInfo:l.orderInfo})},setOrderTransaction:t=>{e({orderTransaction:t})}})),c=(0,n.N)(i)},77430:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});var s=r(62284);let n=(0,s.Ue)(e=>({isMobile:!1,isTablet:!1,isDesktop:!1,currentScreen:"",setCurrentScreen:t=>{e({isMobile:"mobile"===t,isTablet:"tablet"===t,isDesktop:"desktop"===t,currentScreen:t})}}))},18835:function(e,t,r){"use strict";r.d(t,{X:function(){return n}});var s=r(62284);let n=(0,s.Ue)(e=>({open:!1,data:null,showError:t=>e({open:!0,data:t}),hiddenError:()=>e({open:!1,data:null})}))},3990:function(e,t,r){"use strict";r.d(t,{R:function(){return n}});var s=r(62284);let n=(0,s.Ue)(e=>({isLoading:!1,startLoading:()=>e({isLoading:!0}),stopLoading:()=>e({isLoading:!1})}))},43980:function(e,t,r){"use strict";r.d(t,{i:function(){return m}});let s="PCM_USER_CONFIG",n="v1.0.1";var a=r(71603),o=r(3943),l=r(13703),i=r.n(l),c=r(62284);let d={hidePrescriptionDrugWarning:{value:!1}},u=(0,c.Ue)((e,t)=>({version:n,config:d,init:()=>{var t;let r=(0,o.X)(s),{version:a,...l}=r;if(a!==n){localStorage.removeItem(s);return}if(!l)return;let c=null===(t=Object.entries(l))||void 0===t?void 0:t.reduce((e,t)=>{let[r,s]=t;return s.expiredAt&&i()().isBefore(s.expiredAt)?{...e,[r]:s}:{...e,[r]:null==d?void 0:d[r]}},{});e({config:c})},setConfig:(r,a)=>{let l={...t().config,[r]:{value:a,expiredAt:i()().add(10,"day").valueOf()}};e({config:{...l}}),(0,o.s)(s,{version:n,...l})}})),m=(0,a.N)(u)},71603:function(e,t,r){"use strict";r.d(t,{N:function(){return createSelectors}});let createSelectors=e=>{for(let t of(e.use={},Object.keys(e.getState())))e.use[t]=()=>e(e=>e[t]);return e}},58724:function(e,t,r){"use strict";r.d(t,{L:function(){return a}});var s=r(88899),n=r(62284);let a=(0,n.Ue)(e=>({user:null,extraCareInfo:null,token:(0,s.LP)(),setUserToken:(t,r,n)=>((0,s.mB)(t,r,n),e({token:t})),setUser:t=>t?e({user:t}):e({user:t,token:"",extraCareInfo:null}),setExtraCareInfo:t=>e({extraCareInfo:t})}))},92126:function(e,t,r){"use strict";var s,n;r.d(t,{g:function(){return s}}),(n=s||(s={})).AVAILABLE="AVAILABLE",n.OFFLINE_ONLY="OFFLINE_ONLY",n.UNAVAILABLE="UNAVAILABLE"},60834:function(e,t,r){"use strict";r.d(t,{QG:function(){return getCartDetail},TB:function(){return addCartProduct},Uq:function(){return getCartSummary},bd:function(){return updateCartItem},ci:function(){return checkoutCart},zM:function(){return estimateCart}});var s=r(35257),n=r(47893);let getCartDetail=async e=>await (0,s.w)({config:n.d.cartDetail,payload:null==e?void 0:e.params}),getCartSummary=async e=>await (0,s.w)({config:n.d.cartSummary,payload:null==e?void 0:e.params}),addCartProduct=async e=>{let{cartId:t,payload:r}=e;return await (0,s.w)({config:n.d.cartAddProduct,payload:r,paramUrl:{cartId:t}})},updateCartItem=async e=>{let{cartId:t,payload:r}=e;return await (0,s.w)({config:n.d.cartUpdateProduct,payload:r,paramUrl:{cartId:t}})},estimateCart=async e=>await (0,s.w)({config:n.d.cartEstimate,payload:e}),checkoutCart=async e=>await (0,s.w)({config:n.d.cartCheckout,payload:e})},62266:function(e,t,r){"use strict";r.d(t,{i:function(){return getAuthenticate}});var s=r(88899);let getAuthenticate=()=>({isAuthenticated:!!(0,s.YV)()})},96502:function(){}},function(e){e.O(0,[7556,5977,3910,3606,9564,8831,5568,1726,7987,9960,2456,5412,1699,6074,4170,5425,6841,9618,1744],function(){return e(e.s=63976)}),_N_E=e.O()}]);