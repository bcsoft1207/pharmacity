"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7487],{95060:function(t,e,n){n.d(e,{Ln:function(){return a},MR:function(){return p},NN:function(){return m},RO:function(){return v},S1:function(){return o},Uh:function(){return c},Ur:function(){return f},WJ:function(){return d},Zw:function(){return l},bc:function(){return s},jH:function(){return u},kW:function(){return g},oy:function(){return i},qz:function(){return r},z0:function(){return _}});let i="PMC_SEARCH",o="v1.0.1",r=10,l=5,a="<word>",u="</word>",d=5,c=5,v=8,s=10,m="search-trigger-mobile",f="search-reset-filter-mobile",p={range:"RANGE",code:"CODE",enum:"ENUM"},g={category:"CATEGORY",stock:"STOCK",brand:"BRAND",price:"PRICE"},_={PLATFORM_UNKNOWN:0,WEB:1,ANDROID:2,IOS:3}},4045:function(t,e,n){n.d(e,{G:function(){return useSWRPmc}});var i=n(30434);let useSWRPmc=(t,e,n)=>(0,i.ZP)(t,e,n)},17576:function(t,e,n){n.d(e,{AR:function(){return getCollectionWithCode},Fq:function(){return getSearchSuggest},Po:function(){return getGroupCollection},WI:function(){return productSearch},hb:function(){return getCollectionWithSlug},pL:function(){return productViewTracking}});var i=n(35257),o=n(47893),r=n(11470),l=n(95060);let refinedCollectionRes=t=>{var e,n,i,o,l,a;let u=(null===(n=t.responseData)||void 0===n?void 0:null===(e=n.data)||void 0===e?void 0:e.item)||{},d=(null===(o=t.responseData)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.additional_data)||{},{products:c,name:v,slug:s}=u;if(null==c?void 0:null===(l=c.items)||void 0===l?void 0:l.length){let e=(0,r.TP)(c.items,d);return{...t,responseData:{data:{...u,name:v,products:e,slug:s,total:parseInt("".concat(null!==(a=c.total)&&void 0!==a?a:"0"))}}}}return t},getCollectionWithCode=async(t,e)=>{let{params:n}=t,r=await (0,i.w)({config:o.d.productCollectionWithCode,payload:n,paramUrl:{code:e}});return refinedCollectionRes(r)},getCollectionWithSlug=async(t,e)=>{let{params:n}=t,r=await (0,i.w)({config:o.d.productCollectionWithSlug,payload:n,paramUrl:{slug:e}});return refinedCollectionRes(r)},getGroupCollection=async(t,e)=>{var n,l,a,u;let{params:d}=t,c=await (0,i.w)({config:o.d.getGroupCollection,payload:d,paramUrl:{group_code:e}}),v=(null===(l=c.responseData)||void 0===l?void 0:null===(n=l.data)||void 0===n?void 0:n.items)||{},s=(null===(u=c.responseData)||void 0===u?void 0:null===(a=u.data)||void 0===a?void 0:a.additional_data)||{};if(null==v?void 0:v.length){let t=[];return v.forEach(e=>{var n,i;if(null===(n=e.products.items)||void 0===n?void 0:n.length){let n=(0,r.TP)(e.products.items,s);t.push({name:e.name,products:n,slug:e.slug,total:parseInt("".concat(null!==(i=e.products.total)&&void 0!==i?i:"0"))})}}),{...c,responseData:{...c.responseData,data:{collections:t}}}}return c},productSearch=async t=>{var e,n,a,u;let{params:d}=t,{qsStringifyOptions:c,...v}=d||{},s=await (0,i.w)({config:o.d.productSearch,payload:{platform:l.z0.WEB,...v},qsStringifyOptions:c}),m=null===(e=s.responseData)||void 0===e?void 0:e.data,f=(null===(a=s.responseData)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.additional_data)||{};if(null==m?void 0:null===(u=m.items)||void 0===u?void 0:u.length){let t=(0,r.TP)(null==m?void 0:m.items,f);return{...s,responseData:{...s.responseData,data:{...m,items:t}}}}return s},getSearchSuggest=async t=>await (0,i.w)({config:o.d.productSearchSuggest,payload:{platform:l.z0.WEB,...null==t?void 0:t.params}}),productViewTracking=async t=>{let{sku:e}=t;return await (0,i.w)({config:o.d.productViewTracking,payload:{},paramUrl:{sku:e}})}},17725:function(t,e,n){n.d(e,{i:function(){return formatCurrencyVND}});let formatCurrencyVND=t=>{let e=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"});return e.format(t)}},20811:function(t,e,n){n.d(e,{Ug:function(){return checkTimeBetween},V5:function(){return formatTime24},YM:function(){return convertStringToDate},_l:function(){return getVietNamCurrentTime},o0:function(){return formatDateTime},s7:function(){return convertTimeStringToObject}});var i=n(42341),o=n(13703),r=n.n(o),l=n(60547),a=n.n(l),u=n(78631),d=n.n(u),c=n(13202),v=n.n(c),s=n(30383),m=n.n(s);r().extend(v()),r().extend(m()),r().extend(a()),r().extend(d());let formatDateTime=(t,e)=>r()(t).isValid()?r()(t).format(e):"",convertTimeStringToObject=t=>{let e=t.match(/(\d+)m(\d+)s/);if(!e)throw Error("Invalid time string format");let n=parseInt(e[1],10),i=parseInt(e[2],10);return{minute:{key:n>1?"minutes":"minute",value:n},second:{key:"seconds",value:i}}},checkTimeBetween=(t,e,n,o)=>{let l=r()(t,i.n[o]),a=r()(e,i.n[o]),u=r()(n,i.n[o]);return l.isBetween(a,u,null,"[]")},getVietNamCurrentTime=()=>r()().tz("Asia/Ho_Chi_Minh"),formatTime24=t=>{let e=new Date("2024-01-01T".concat(t));return formatDateTime(e,i.n.timeFormat24HourWithChar)},convertStringToDate=(t,e)=>{if(!t)return null;let n=e?r()(t,e):r()(t);return n.isValid()?n.toDate():null}},42341:function(t,e,n){n.d(e,{n:function(){return i}});let i={dateFormat:"DD/MM/YYYY",dateFormatValue:"YYYY-MM-DD",dateFormatFull:"DD/MM/YYYY HH:mm:ss",timeFormat24Hour:"HH:mm:ss",timeFormat12Hour:"hh:mm A",dateTimeFormat:"HH:mm DD/MM/YYYY",dateFormatWithLowercase:"dd/MM/yyyy",timeFormat24HourWithChar:"HH[h]mm",dateBase:"YYYY-MM-DD HH:mm:ss"}},6418:function(t,e,n){n.d(e,{r:function(){return formatRatingNumber},u:function(){return formatNumber}});let formatNumber=t=>{let e=new Intl.NumberFormat("vi-VN");return e.format(t)},formatRatingNumber=t=>t?t>=1e9?(t/1e9).toFixed(1)+"t":t>=1e6?(t/1e6).toFixed(1)+"tr":t>=1e3?(t/1e3).toFixed(1)+"k":t.toString():""},11470:function(t,e,n){n.d(e,{TP:function(){return refinedProductCollection},gX:function(){return refinedProductOrderDetail}});var i=n(17725),o=n(6418);n(20811),n(13703);let convertAdditionalData=t=>{let e={};return"object"!=typeof t||Object.keys(t).map(n=>{var i,o;let r={};(null==t?void 0:null===(i=t[n])||void 0===i?void 0:i.length)&&(null==t||null===(o=t[n])||void 0===o||o.forEach(t=>{r[t.code]=t})),e[n]=r}),e},refinedProduct=t=>{var e,n,r,l,a,u,d,c,v;if(!t)return null;let s=(null==t?void 0:null===(e=t.sub_data)||void 0===e?void 0:e.total_sold)?{total_sold_format:(0,o.r)(t.sub_data.total_sold||0)}:{},m=(null==t?void 0:null===(n=t.sub_data)||void 0===n?void 0:n.total_liked)?{total_liked_format:(0,o.r)(t.sub_data.total_liked||0)}:{},f={variants:{}},p=[],g=[];if(null==t?void 0:null===(r=t.variants)||void 0===r?void 0:r.length){let e={};null==t||t.variants.map(t=>{e[t.unit]={...t,price_format:(0,i.i)(t.price||0),original_price_format:t.original_price>t.price?(0,i.i)(t.original_price||0):""}}),f={variants:e}}if(null==t?void 0:null===(l=t.attributes)||void 0===l?void 0:l.length){let e=null,n=null;for(let i of t.attributes)"SHOWING"===i.code&&(e=i),"DESCRIPTION"===i.code&&(n=i);(null==e?void 0:null===(c=e.items)||void 0===c?void 0:c.length)&&e.items.forEach(t=>{var e,n;(null==t?void 0:null===(e=t.value)||void 0===e?void 0:e.value)&&p.push({code:t.code,name:t.name,value:null==t?void 0:null===(n=t.value)||void 0===n?void 0:n.value})}),(null==n?void 0:null===(v=n.items)||void 0===v?void 0:v.length)&&n.items.forEach(t=>{var e,n;(null==t?void 0:null===(e=t.value)||void 0===e?void 0:e.value)&&g.push({code:t.code,name:t.name,value:null==t?void 0:null===(n=t.value)||void 0===n?void 0:n.value})})}return{...t,price_format:(0,i.i)(t.price||0),display_status:t.is_prescription_drug?"IS_PRESCRIPTION_DRUG":t.stock_status,...f,attributes:null==p?void 0:p.filter(t=>t.value),attributesDescription:null==g?void 0:g.filter(t=>t.value),sub_data:{...t.sub_data,...s,...m,discount_percent:parseInt("".concat((null===(a=t.sub_data)||void 0===a?void 0:a.discount_percent)||0)),labels:null===(d=t.sub_data)||void 0===d?void 0:null===(u=d.labels)||void 0===u?void 0:u.items.map(t=>{var e,n,i,o;return{name:t.name,description:t.description,image_url:(null==t?void 0:null===(e=t.image)||void 0===e?void 0:e.image_url)||"",image_alt:(null==t?void 0:null===(n=t.image)||void 0===n?void 0:n.image_alt)||"",icon_url:(null==t?void 0:null===(i=t.icon)||void 0===i?void 0:i.image_url)||"",icon_alt:(null==t?void 0:null===(o=t.icon)||void 0===o?void 0:o.image_alt)||""}})}}},refinedProductCollection=(t,e)=>{if(!(null==t?void 0:t.length))return[];let n=convertAdditionalData(e);return t.map(t=>{var e,i;let o=refinedProduct(t);return{...o,unit:null===(e=n.units)||void 0===e?void 0:e[t.sale_unit],brand:null===(i=n.brands)||void 0===i?void 0:i[t.brand_code]}})},refinedProductOrderDetail=(t,e)=>{if(!(null==t?void 0:t.length))return[];let n=convertAdditionalData(e);return t.map(t=>{var e,i,o,r,l;let a=(null===(e=n.products)||void 0===e?void 0:e[t.sku])||{},u=(null===(i=n.units)||void 0===i?void 0:i[t.unit])||{};return(null===(o=a.additional_data)||void 0===o?void 0:o.thumbnail)&&(a.thumbnail=a.additional_data.thumbnail),{...t,price:null!==(l=t.discounted_price)&&void 0!==l?l:0,unit_name:u.name,brand:null===(r=n.brands)||void 0===r?void 0:r[t.brand_code],...a}})}}}]);